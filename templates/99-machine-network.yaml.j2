# Single netplan for machine: NetworkManager renderer, ethernet (DHCP + camera static).
# WiFi is configured via nmcli (connect automatically to machine_wifi_ssid, default OFFICEGST).
# Generated by post-reboot-verify. Replaces 50-cloud-init to avoid conflicts.
network:
  version: 2
  renderer: NetworkManager
{% if machine_netplan_ethernets is defined and machine_netplan_ethernets | length > 0 %}
  ethernets:
{% for eth in machine_netplan_ethernets %}
    {{ eth.name }}:
      dhcp4: {{ 'true' if eth.dhcp4 else 'false' }}
{% if eth.address is defined %}
      addresses:
        - {{ eth.address }}
{% endif %}
{% endfor %}
{% endif %}
